## Git Rule: Некорректно привязанные коммиты



Данное правило описывает как действовать, если случайно привязали коммит к другой задаче. Эта ситуация возникает, когда в заголовке коммита указан неправильный номер задачи из Jira.



### Коммиты ещё не были запушены

Хорошая практика - перед выполнением команды `git push` просмотреть список коммитов, прочитать их сообщения и проверить привязку к задаче. Если обнаружили, что какие-то коммиты случайно были привязаны к другой задаче или имеют ошибки в сообщениях, то это легко поправить через IDEA, выполнив команду Edit Commit Message (IDEA -> Git Log tab -> Правой кнопкой на нужный коммит -> Edit Commit Message).	

После чего можно будет выполнить git push.



### Коммиты уже запушены

Если же коммиты уже были запушены, то порядок действий таков:

- В Bitbucket'е на странице каждого ошибочно привязанного коммита  нужно оставить комментарий:

  ```
  Коммит ошибочно привязан к задаче EX-X, на самом деле коммит относится к задаче EN-Y.
  ```

- В Jira на странице задачи EN-X, к которой ошибочно привязали коммиты, нужно оставить комментарий:

  ```
  Коммиты, ошибочно привязанные к этой задаче, но на самом деле относящиеся к задаче EN-Y:
  - {ссылка на коммит в Bitbucket 1}
  - {ссылка на коммит в Bitbucket 2}
  ...
  - {ссылка на коммит в Bitbucket N}
  ```

- В Jira на странице задачи EN-Y, к которой на самом деле относятся коммиты, нужно оставить комментарий:

  ```
  Коммиты, ошибочно привязанные к задаче EN-X, но на самом деле относящиеся к этой задаче:
  - {ссылка на коммит в Bitbucket 1}
  - {ссылка на коммит в Bitbucket 2}
  ...
  - {ссылка на коммит в Bitbucket N}
  ```

